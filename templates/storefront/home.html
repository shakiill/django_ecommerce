{% extends 'storefront/base.html' %}

{% block title %}Home - UOMO{% endblock %}

{% block content %}
    <!-- Hero Slider -->
    <section class="hero-slider">
        <div id="heroCarousel" class="carousel slide carousel-fade" data-bs-ride="carousel" data-bs-interval="5000">
            <div class="carousel-indicators">
                <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="0" class="active"></button>
                <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="1"></button>
                <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="2"></button>
            </div>
            
            <div class="carousel-inner">
                <!-- Slide 1: New Collection -->
                <div class="carousel-item active">
                    <div class="hero-slide" style="background-image: url('https://twelvebd.com/cdn/shop/files/Now_in_motion_slider_2_566d7917-d7c2-4f2e-a416-7823111c42ed.jpg?v=1767269972&width=2000');">
                        <div class="hero-content">
                            <h6 class="hero-subtitle mb-3"><span>üéâ NEW COLLECTION 2026</span></h6>
                            <h1 class="hero-title mb-3">Premium<br>Collection</h1>
                            <p class="hero-text mb-4">Elevate your style with our exclusive premium collection.<br>Premium fabrics and modern designs crafted for you.</p>
                            <div class="hero-price-tag mb-4">
                                <span class="starting-from">Starting from</span>
                                <span class="price">‡ß≥1,299</span>
                            </div>
                            <div class="hero-btns flex-wrap">
                                <a href="{% url 'shop' %}" class="btn-hero btn-hero-primary me-3">Shop Now</a>
                                <a href="{% url 'shop' %}" class="btn-hero btn-hero-outline">View All</a>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Slide 2: Flash Sale -->
                <div class="carousel-item">
                    <div class="hero-slide" style="background-image: url('https://images.unsplash.com/photo-1490481651871-ab68de25d43d?w=2000');">
                        <div class="hero-content">
                            <h6 class="hero-subtitle mb-3"><span>üî• LIMITED TIME</span></h6>
                            <h1 class="hero-title mb-3">MEGA SALE<br>Up to 70% Off!</h1>
                            <p class="hero-text mb-4">Limited time offer. Order your favorite items now!</p>
                            <div class="hero-btns">
                                <a href="{% url 'shop' %}" class="btn-hero btn-hero-primary">Shop Now</a>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Slide 3: New Arrivals -->
                <div class="carousel-item">
                    <div class="hero-slide" style="background-image: url('https://cdn.rawnation.net/4/media/winter_home_2025_2026_web.jpg');">
                        <div class="hero-content">
                            <h6 class="hero-subtitle mb-3"><span>‚ú® NEW ARRIVAL</span></h6>
                            <h1 class="hero-title mb-3">Summer<br>Collection '26</h1>
                            <p class="hero-text mb-4">Comfortable fabrics and trendy designs. Perfect for summer.</p>
                            <div class="hero-btns">
                                <a href="{% url 'shop' %}" class="btn-hero btn-hero-primary">Explore Now</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <button class="carousel-control-prev" type="button" data-bs-target="#heroCarousel" data-bs-slide="prev">
                <i class="fas fa-chevron-left"></i>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#heroCarousel" data-bs-slide="next">
                <i class="fas fa-chevron-right"></i>
            </button>
        </div>
    </section>

    <!-- FLASH SALE Section -->
    <section class="promo-banner-section flash-sale-animated">
        <div class="container-custom">
            <div class="promo-banner-content flash-sale-bd">
                <div class="row align-items-center">
                    <div class="col-lg-5">
                        <div class="promo-image animate-slide-in-left">
                            <div class="image-shimmer-wrapper">
                                <img src="https://images.unsplash.com/photo-1441984904996-e0b6ba687e04?w=1200" alt="Flash Sale" class="img-fluid rounded-4 shadow-lg flash-sale-img">
                                <div class="image-shimmer"></div>
                            </div>
                            <div class="sale-badge-floating animate-bounce-in">70% OFF</div>
                            <div class="sale-sparkles">
                                <span class="sparkle sparkle-1">‚ú®</span>
                                <span class="sparkle sparkle-2">‚≠ê</span>
                                <span class="sparkle sparkle-3">‚ú®</span>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-7">
                        <div class="promo-text-side ps-lg-5">
                            <div class="live-orders-badge mb-3 animate-fade-in-down" style="animation-delay: 0.2s;">
                                <span class="pulse-dot"></span>
                                <span class="live-text-typing">23 people viewing ‚Ä¢ 57 orders today</span>
                            </div>
                            <h6 class="text-danger fw-bold letter-spacing-2 mb-2 animate-fade-in-up flash-urgency" style="animation-delay: 0.3s;">
                                <span class="urgency-icon">‚è∞</span> LIMITED TIME OFFER!
                            </h6>
                            <h2 class="display-4 fw-900 mb-3 animate-fade-in-up" style="animation-delay: 0.4s;">
                                <span class="flash-title-text">FLASH SALE</span><br>
                                <span class="text-danger flash-discount-text">Up to 70% Off!</span>
                            </h2>
                            <p class="lead text-muted mb-3 animate-fade-in-up" style="animation-delay: 0.5s;">Don't miss this opportunity! Order now and save big.</p>
                            <div class="promo-countdown mb-4 animate-fade-in-up" id="flash-countdown" style="animation-delay: 0.6s;">
                                <div class="time-item time-item-animated">
                                    <span id="days" class="countdown-digit">02</span>
                                    <small>DAYS</small>
                                    <div class="time-item-glow"></div>
                                </div>
                                <div class="time-item time-item-animated">
                                    <span id="hours" class="countdown-digit">14</span>
                                    <small>HOURS</small>
                                    <div class="time-item-glow"></div>
                                </div>
                                <div class="time-item time-item-animated">
                                    <span id="mins" class="countdown-digit">45</span>
                                    <small>MINS</small>
                                    <div class="time-item-glow"></div>
                                </div>
                                <div class="time-item time-item-animated time-item-seconds">
                                    <span id="secs" class="countdown-digit countdown-seconds">00</span>
                                    <small>SECS</small>
                                    <div class="time-item-glow"></div>
                                </div>
                            </div>
                            <div class="d-flex flex-wrap gap-3 align-items-center animate-fade-in-up" style="animation-delay: 0.7s;">
                                <a href="{% url 'shop' %}" class="btn-hero btn-hero-primary px-5 btn-flash-cta">
                                    <span class="btn-text">Shop Now</span>
                                    <span class="btn-shine"></span>
                                </a>
                                <div class="stock-warning stock-warning-animated">
                                    <i class="fas fa-exclamation-triangle text-warning warning-shake"></i>
                                    <span class="stock-text-blink">Only 12 left!</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Background decoration elements -->
                <div class="flash-sale-decorations">
                    <div class="decoration-circle decoration-circle-1"></div>
                    <div class="decoration-circle decoration-circle-2"></div>
                    <div class="floating-shapes">
                        <div class="shape shape-1"></div>
                        <div class="shape shape-2"></div>
                        <div class="shape shape-3"></div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Featured Categories -->
    <section class="categories-section">
        <div class="container-custom">
            <div class="categories-grid">
                <!-- Left Large Card -->
                <a href="{% url 'shop' %}" class="category-card category-tall-left">
                    <div class="category-image">
                        <img src="https://images.unsplash.com/photo-1483985988355-763728e1935b?q=80&w=2070&auto=format&fit=crop" alt="Women's Collection">
                    </div>
                    <div class="category-overlay">
                        <span class="category-tag">üî• Trending</span>
                        <h3 class="category-name">Women's Collection</h3>
                        <span class="category-count">150+ Products</span>
                        <span class="category-cta">Shop Now <i class="fas fa-arrow-right"></i></span>
                    </div>
                </a>

                <!-- Middle Column - 2 stacked cards -->
                <a href="{% url 'shop' %}" class="category-card">
                    <div class="category-image">
                        <img src="https://images.unsplash.com/photo-1490114538077-0a7f8cb49891?q=80&w=2070&auto=format&fit=crop" alt="Men's Collection">
                    </div>
                    <div class="category-overlay">
                        <h3 class="category-name">Men's Collection</h3>
                        <span class="category-count">120+ Products</span>
                        <span class="category-cta">Shop Now <i class="fas fa-arrow-right"></i></span>
                    </div>
                </a>

                <a href="{% url 'shop' %}" class="category-card">
                    <div class="category-image">
                        <img src="https://images.unsplash.com/photo-1576053139778-7e32f2ae3cfd?q=80&w=2070&auto=format&fit=crop" alt="Accessories">
                    </div>
                    <div class="category-overlay">
                        <span class="category-tag">New</span>
                        <h3 class="category-name">Accessories</h3>
                        <span class="category-count">80+ Products</span>
                        <span class="category-cta">Shop Now <i class="fas fa-arrow-right"></i></span>
                    </div>
                </a>

                <!-- Right Tall Card -->
                <a href="{% url 'shop' %}" class="category-card category-tall-right">
                    <div class="category-image">
                        <img src="https://images.unsplash.com/photo-1445205170230-053b83016050?q=80&w=2071&auto=format&fit=crop" alt="Traditional Wear">
                    </div>
                    <div class="category-overlay">
                        <span class="category-tag">Best Seller</span>
                        <h3 class="category-name">Traditional Wear</h3>
                        <span class="category-count">90+ Products</span>
                        <span class="category-cta">Shop Now <i class="fas fa-arrow-right"></i></span>
                    </div>
                </a>
            </div>
        </div>
    </section>

    <!-- New Arrivals Section -->
    <section class="new-arrivals-section section-padding">
        <div class="container-custom">
            <div class="d-flex justify-content-between align-items-end mb-3">
                <div class="section-header text-start mb-0">
                    <h6 class="section-subtitle text-primary">JUST DROPPED</h6>
                    <h2 class="section-title">New Arrivals</h2>
                </div>
                <a href="{% url 'shop' %}" class="btn-link text-dark fw-bold text-decoration-none border-bottom pb-1">View All <i class="fas fa-chevron-right ms-2 fs-xs"></i></a>
            </div>
            
            <div class="new-arrivals-slider-wrapper">
                <div class="swiper new-arrivals-swiper">
                    <div class="swiper-wrapper" id="new-arrivals-slider">
                        <!-- Loaded via AJAX -->
                    </div>
                </div>
                <div class="swiper-button-next new-arrivals-next"></div>
                <div class="swiper-button-prev new-arrivals-prev"></div>
            </div>
        </div>
    </section>

    <!-- Popular Products Section -->
    <section class="popular-products-section section-padding">
        <div class="container-custom">
            <div class="section-header text-center mb-3">
                <h6 class="section-subtitle">BEST SELLERS</h6>
                <h2 class="section-title">Most Popular</h2>
                <div class="section-divider"></div>
            </div>

            <div class="row g-4" id="popular-products-grid">
                <!-- Loaded via AJAX -->
            </div>
            
            <div class="text-center mt-4">
                <a href="{% url 'shop' %}" class="btn-hero btn-hero-primary px-5">View More</a>
            </div>
        </div>
    </section>

    <!-- TESTIMONIALS Section -->
    <section class="testimonials-section bg-soft">
        <div class="container-custom">
            <div class="section-header text-center mb-4">
                <h6 class="section-subtitle">CUSTOMER REVIEWS</h6>
                <h2 class="section-title">What Our Customers Say</h2>
            </div>
            <div class="swiper testimonials-swiper">
                <div class="swiper-wrapper">
                    <div class="swiper-slide">
                        <div class="testimonial-item">
                            <div class="rating mb-3">
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                            </div>
                            <p class="testimonial-content">"Excellent quality! The product matched the pictures perfectly. Fast delivery and amazing packaging. Will definitely order again. üëç"</p>
                            <div class="testimonial-author">
                                <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=100" alt="Author" class="author-img">
                                <span class="author-name">Rafi Ahmed</span>
                                <small class="text-muted">Dhaka ‚Ä¢ Verified Buyer ‚úì</small>
                            </div>
                        </div>
                    </div>
                    <div class="swiper-slide">
                        <div class="testimonial-item">
                            <div class="rating mb-3">
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                            </div>
                            <p class="testimonial-content">"This is my go-to shop for fashion. COD option made it very convenient. The quality and fitting are perfect. ‚ù§Ô∏è"</p>
                            <div class="testimonial-author">
                                <img src="https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=100" alt="Author" class="author-img">
                                <span class="author-name">Tania Akter</span>
                                <small class="text-muted">Chittagong ‚Ä¢ Verified Buyer ‚úì</small>
                            </div>
                        </div>
                    </div>
                    <div class="swiper-slide">
                        <div class="testimonial-item">
                            <div class="rating mb-3">
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star text-warning"></i>
                                <i class="fas fa-star-half-alt text-warning"></i>
                            </div>
                            <p class="testimonial-content">"Paid via bKash, no issues at all. Received the product in just 2 days. Great value for money. Highly Recommended!"</p>
                            <div class="testimonial-author">
                                <img src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=100" alt="Author" class="author-img">
                                <span class="author-name">Sakib Hassan</span>
                                <small class="text-muted">Sylhet ‚Ä¢ Verified Buyer ‚úì</small>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="swiper-pagination mt-4"></div>
            </div>
        </div>
    </section>

    <!-- PAYMENT & TRUST SECTION -->
    <section class="payment-trust-section">
        <div class="container-custom">
            <div class="payment-trust-grid">
                <div class="payment-methods">
                    <h6 class="mb-3">Payment Methods</h6>
                    <div class="payment-icons">
                        <div class="payment-icon" title="bKash">
                            <img src="https://www.logo.wine/a/logo/BKash/BKash-Icon-Logo.wine.svg" alt="bKash" height="40">
                        </div>
                        <div class="payment-icon" title="Nagad">
                            <img src="https://nagad.com.bd/wp-content/uploads/2020/09/nagad-logo-white.png" alt="Nagad" height="30" style="background:#f7690a; padding:5px; border-radius:4px;">
                        </div>
                        <div class="payment-icon" title="Cash on Delivery">
                            <i class="fas fa-money-bill-wave fa-2x text-success"></i>
                        </div>
                        <div class="payment-icon" title="Card">
                            <i class="fas fa-credit-card fa-2x text-primary"></i>
                        </div>
                    </div>
                </div>
                <div class="trust-stats">
                    <div class="stat-item">
                        <span class="stat-number">50,000+</span>
                        <span class="stat-label">Happy Customers</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number">4.8/5</span>
                        <span class="stat-label">Rating</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number">98%</span>
                        <span class="stat-label">Positive Reviews</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section class="features-section section-padding">
        <div class="container-custom">
            <div class="row g-3">
                <div class="col-lg-3 col-md-6 col-6">
                    <div class="feature-box">
                        <i class="fas fa-truck"></i>
                        <h5 class="feature-title-bd">Free Delivery</h5>
                        <p class="text-muted small mb-0">Free in Dhaka, ‡ß≥60 nationwide</p>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6 col-6">
                    <div class="feature-box">
                        <i class="fas fa-money-bill-wave"></i>
                        <h5 class="feature-title-bd">Cash on Delivery</h5>
                        <p class="text-muted small mb-0">Pay when you receive</p>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6 col-6">
                    <div class="feature-box">
                        <i class="fas fa-undo-alt"></i>
                        <h5 class="feature-title-bd">7-Day Returns</h5>
                        <p class="text-muted small mb-0">Easy return policy</p>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6 col-6">
                    <div class="feature-box">
                        <i class="fas fa-check-circle"></i>
                        <h5 class="feature-title-bd">100% Original</h5>
                        <p class="text-muted small mb-0">Guaranteed quality</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- WhatsApp Floating Button -->
    <a href="https://wa.me/8801XXXXXXXXX?text=Hello, I want to place an order from UOMO" class="whatsapp-float" target="_blank">
        <i class="fab fa-whatsapp"></i>
        <span class="whatsapp-tooltip">Message us on WhatsApp</span>
    </a>

    <!-- Live Order Notification (Toast) -->
    <div class="live-order-toast" id="liveOrderToast">
        <div class="toast-content">
            <img src="https://via.placeholder.com/50" alt="Product" class="toast-img" id="toastImg">
            <div class="toast-info">
                <p class="toast-text" id="toastText">Someone just placed an order</p>
                <small class="toast-time" id="toastTime">2 minutes ago ‚Ä¢ Dhaka</small>
            </div>
        </div>
    </div>
{% endblock %}

{% block extra_css %}
    <style>
        /* Hero Slider Specifics */
        .hero-slide {
            height: 100vh;
            min-height: 700px;
            background-size: cover;
            background-position: center;
            position: relative;
            display: flex;
            align-items: center;
        }

        .hero-slide::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background: linear-gradient(90deg, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 60%, rgba(0,0,0,0) 100%);
            z-index: 1;
        }

        .hero-content {
            position: relative;
            z-index: 2;
            padding: 0 8%;
            max-width: 800px;
            color: var(--white);
        }

        .hero-subtitle {
            font-size: 14px;
            font-weight: 700;
            letter-spacing: 4px;
            text-transform: uppercase;
            margin-bottom: 20px;
            display: inline-flex;
            align-items: center;
            color: var(--white);
        }

        .hero-subtitle span {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(10px);
            padding: 10px 25px;
            border-radius: 50px;
            border: 1px solid rgba(255, 255, 255, 0.25);
        }

        .hero-title {
            font-size: clamp(48px, 7vw, 100px);
            font-weight: 900;
            line-height: 1.05;
            margin-bottom: 25px;
            text-transform: uppercase;
            letter-spacing: -3px;
        }

        .hero-text {
            font-size: 20px;
            margin-bottom: 40px;
            max-width: 600px;
            color: rgba(255,255,255,0.9);
            line-height: 1.7;
            font-weight: 400;
        }

        .hero-btns {
            display: flex;
            gap: 20px;
        }

        .btn-hero {
            padding: 16px 40px;
            font-size: 14px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            border: 2px solid transparent;
            transition: var(--transition-base);
            display: inline-flex;
            text-decoration: none;
            border-radius: 4px;
        }

        .btn-hero-primary {
            background: var(--accent-color);
            color: var(--white);
            border-color: var(--accent-color);
        }

        .btn-hero-primary:hover {
            background: var(--white);
            color: var(--black);
            border-color: var(--white);
        }

        .btn-hero-outline {
            border-color: var(--white);
            color: var(--white);
        }

        .btn-hero-outline:hover {
            background: var(--white);
            color: var(--black);
        }

        .hero-side-info {
            position: relative;
            padding-right: 50px;
        }

        .side-badge {
            display: flex;
            flex-direction: column;
            align-items: center;
            border: 2px solid var(--white);
            padding: 30px 15px;
            border-radius: 100px;
        }

        .badge-year {
            font-size: 24px;
            font-weight: 900;
            margin-bottom: 5px;
        }

        .badge-text {
            font-size: 10px;
            font-weight: 700;
            writing-mode: vertical-rl;
            text-transform: uppercase;
            letter-spacing: 3px;
        }

        /* Custom Navigation */
        .carousel-control-prev,
        .carousel-control-next {
            width: 55px;
            height: 55px;
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(15px);
            border-radius: 50%;
            top: 50%;
            transform: translateY(-50%);
            opacity: 0;
            transition: all 0.4s cubic-bezier(0.165, 0.84, 0.44, 1);
            border: 1px solid rgba(255,255,255,0.25);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--white);
            font-size: 14px;
        }

        .hero-slider:hover .carousel-control-prev,
        .hero-slider:hover .carousel-control-next {
            opacity: 1;
        }

        .carousel-control-prev { left: 50px; }
        .carousel-control-next { right: 50px; }

        .carousel-control-prev:hover,
        .carousel-control-next:hover {
            background: var(--white);
            color: var(--black);
            transform: translateY(-50%) scale(1.1);
        }

        /* Scroll Down */
        .hero-scroll-down {
            position: absolute;
            bottom: 40px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 10;
            display: flex;
            flex-direction: column;
            align-items: center;
            color: var(--white);
        }

        .hero-scroll-down .mouse {
            width: 26px;
            height: 42px;
            border: 2px solid var(--white);
            border-radius: 20px;
            position: relative;
            margin-bottom: 10px;
        }

        .hero-scroll-down .mouse::after {
            content: '';
            width: 4px;
            height: 8px;
            background: var(--white);
            position: absolute;
            top: 8px;
            left: 50%;
            transform: translateX(-50%);
            border-radius: 2px;
            animation: scrollDownAni 1.5s infinite;
        }

        @keyframes scrollDownAni {
            0% { opacity: 0; transform: translate(-50%, 0); }
            50% { opacity: 1; transform: translate(-50%, 10px); }
            100% { opacity: 0; transform: translate(-50%, 20px); }
        }

        .hero-scroll-down .text {
            font-size: 10px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 2px;
            opacity: 0.7;
        }

        .carousel-indicators {
            bottom: 45px;
            right: 130px;
            left: auto;
            margin: 0;
            flex-direction: column;
            width: auto;
        }

        .carousel-indicators button {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--white);
            opacity: 0.3;
            margin: 8px 0;
            border: none;
            transition: all 0.3s;
        }

        .carousel-indicators button.active {
            opacity: 1;
            transform: scale(1.5);
            box-shadow: 0 0 10px rgba(255,255,255,0.5);
        }
        
        /* Mobile Responsive */
        @media (max-width: 991px) {
            .hero-title { font-size: 60px; }
        }
        
        @media (max-width: 768px) {
            .hero-slide { min-height: 500px; height: 75vh; }
            .hero-title { font-size: 42px; margin-bottom: 15px; }
            .hero-subtitle { font-size: 12px; margin-bottom: 15px; }
            .hero-text { font-size: 16px; margin-bottom: 25px; }
            .hero-btns { flex-direction: column; gap: 15px; align-items: flex-start; }
            .btn-hero { padding: 15px 35px; width: 100%; max-width: 250px; }
            .carousel-control-prev, .carousel-control-next { display: none; }
        }

        /* Featured Categories Section */
        .collections-section {
            padding: 30px 0;
            background: #ffffff;
        }

        .section-subtitle {
            font-size: 13px;
            font-weight: 700;
            letter-spacing: 2px;
            color: var(--primary-color);
            text-transform: uppercase;
            margin-bottom: 10px;
            position: relative;
            display: inline-block;
        }

        /* ============================================
           CATEGORIES SECTION - Modern Grid
           ============================================ */
        .categories-section {
            padding: 60px 0;
            background: #f8f9fa;
        }

        .categories-grid {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            grid-template-rows: 1fr 1fr;
            gap: 20px;
            height: 660px;
        }

        .category-card {
            position: relative;
            overflow: hidden;
            border-radius: 16px;
            text-decoration: none;
            display: block;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
            transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
        }

        /* Left tall card - spans both rows */
        .category-card.category-tall-left {
            grid-column: 1;
            grid-row: 1 / 3;
        }

        /* Right tall card - spans both rows */
        .category-card.category-tall-right {
            grid-column: 3;
            grid-row: 1 / 3;
        }

        .category-card.category-tall-left .category-name,
        .category-card.category-tall-right .category-name {
            font-size: 28px;
        }

        .category-image {
            width: 100%;
            height: 100%;
            position: absolute;
            inset: 0;
        }

        .category-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.6s cubic-bezier(0.25, 0.8, 0.25, 1);
        }

        .category-card:hover .category-image img {
            transform: scale(1.1);
        }

        .category-overlay {
            position: absolute;
            inset: 0;
            background: linear-gradient(to top, rgba(0,0,0,0.85) 0%, rgba(0,0,0,0.2) 50%, transparent 100%);
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
            padding: 30px;
            transition: background 0.3s ease;
        }

        .category-card:hover .category-overlay {
            background: linear-gradient(to top, rgba(0,0,0,0.9) 0%, rgba(0,0,0,0.4) 60%, rgba(0,0,0,0.1) 100%);
        }

        .category-tag {
            display: inline-block;
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
            color: #fff;
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 11px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 12px;
            align-self: flex-start;
        }

        .category-name {
            font-size: 24px;
            font-weight: 800;
            color: #fff;
            margin: 0 0 8px 0;
            transition: transform 0.3s ease;
        }

        .category-card.category-large .category-name {
            font-size: 32px;
        }

        .category-count {
            font-size: 14px;
            color: rgba(255,255,255,0.7);
            margin-bottom: 15px;
        }

        .category-cta {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            font-size: 13px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: #fff;
            padding: 10px 0;
            border-bottom: 2px solid transparent;
            opacity: 0;
            transform: translateY(10px);
            transition: all 0.3s ease;
        }

        .category-card:hover .category-cta {
            opacity: 1;
            transform: translateY(0);
            border-color: #fff;
        }

        .category-cta i {
            transition: transform 0.3s ease;
        }

        .category-card:hover .category-cta i {
            transform: translateX(5px);
        }

        .category-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 50px rgba(0,0,0,0.2);
        }

        .category-card:hover .category-name {
            transform: translateY(-5px);
        }

        /* Responsive */
        @media (max-width: 1200px) {
            .categories-grid {
                grid-template-columns: 1fr 1fr;
                grid-template-rows: auto auto auto;
                height: auto;
            }
            
            .category-card.category-tall-left {
                grid-column: 1;
                grid-row: 1 / 3;
                min-height: 500px;
            }
            
            .category-card.category-tall-right {
                grid-column: 2;
                grid-row: 3;
                min-height: 250px;
            }
            
            .category-card:not(.category-tall-left):not(.category-tall-right) {
                min-height: 240px;
            }
        }

        @media (max-width: 768px) {
            .categories-section {
                padding: 40px 0;
            }
            
            .categories-grid {
                grid-template-columns: 1fr;
                grid-template-rows: auto;
                gap: 15px;
                height: auto;
            }
            
            .category-card,
            .category-card.category-tall-left,
            .category-card.category-tall-right {
                grid-column: 1;
                grid-row: auto;
                min-height: 280px;
            }
            
            .category-card.category-tall-left,
            .category-card.category-tall-right {
                min-height: 350px;
            }
            
            .category-name {
                font-size: 22px;
            }
            
            .category-card.category-tall-left .category-name,
            .category-card.category-tall-right .category-name {
                font-size: 26px;
            }
            
            .category-overlay {
                padding: 20px;
            }
        }

        /* New Arrivals Section */
        .new-arrivals-section {
            padding: 80px 0;
            background: #ffffff;
        }
        
        .btn-link {
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: var(--primary-color);
            text-decoration: none;
            position: relative;
            padding-bottom: 2px;
        }
        
        .btn-link::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 1px;
            background: var(--primary-color);
            transform: scaleX(0);
            transform-origin: right;
            transition: transform 0.3s;
        }
        
        .btn-link:hover::after {
            transform: scaleX(1);
            transform-origin: left;
        }

        /* New Arrivals Slider Styles */
        .new-arrivals-slider-wrapper {
            position: relative;
            padding: 0 80px; /* Increased padding to clear buttons from content */
        }

        .new-arrivals-swiper {
            overflow: hidden; /* prevents content spillover */
            padding-bottom: 50px; /* Space for pagination */
            padding-top: 20px; /* Space for top shadows */
            margin-top: -20px; /* Compensate for top padding */
        }

        .new-arrivals-swiper .swiper-slide {
            height: auto;
            opacity: 1;
            transition: opacity 0.3s;
        }

        /* Custom Navigation Buttons */
        .new-arrivals-next,
        .new-arrivals-prev {
            width: 50px;
            height: 50px;
            background: #ffffff;
            border: none;
            border-radius: 50%;
            color: var(--primary-color);
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            position: absolute;
            top: 175px; /* Vertically centered on the 350px tall image */
            transform: translateY(-50%);
            z-index: 10;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-top: 0;
        }

        .new-arrivals-next:after,
        .new-arrivals-prev:after {
            font-size: 18px;
            font-weight: 700;
        }

        .new-arrivals-next:hover,
        .new-arrivals-prev:hover {
            background: var(--primary-color);
            color: #ffffff;
            transform: translateY(-50%) scale(1.1);
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }

        .new-arrivals-prev {
            left: 15px;
        }

        .new-arrivals-next {
            right: 15px;
        }

        /* Pagination Dots */
        .new-arrivals-pagination {
            bottom: 0 !important;
            text-align: center;
            width: 100%;
        }

        .new-arrivals-pagination .swiper-pagination-bullet {
            width: 8px;
            height: 8px;
            background: #dadada;
            opacity: 1;
            transition: all 0.3s ease;
            margin: 0 6px !important;
        }

        .new-arrivals-pagination .swiper-pagination-bullet-active {
            background: var(--primary-color);
            transform: scale(1.3);
        }

        /* Responsive Slider */
        @media (max-width: 768px) {
            .new-arrivals-slider-wrapper {
                padding: 0 0; /* Remove padding on mobile */
            }
            
            .new-arrivals-next,
            .new-arrivals-prev {
                display: none; /* Hide arrows on mobile for cleaner look */
            }
            
            .new-arrivals-swiper {
                padding-bottom: 40px;
            }
        }

        /* Popular Products Section */
        .popular-products-section {
            padding: 80px 0 100px;
            background-color: #f9f9f9; /* Distinct background */
        }
        
        .section-divider {
            width: 60px;
            height: 3px;
            background: var(--primary-color);
            margin: 20px auto 0;
        }
        
        /* Shared Section Header Styles */
        .section-subtitle {
            font-size: 13px;
            font-weight: 700;
            letter-spacing: 2px;
            color: var(--secondary-color);
            text-transform: uppercase;
            margin-bottom: 10px;
            display: block;
        }

        .section-title {
            font-size: 36px;
            font-weight: 800;
            text-transform: uppercase;
            margin-bottom: 0;
            color: var(--primary-color);
            line-height: 1.2;
        }

        /* Product Card Design - Unified Frame */
        .product-card {
            background: #ffffff;
            border: none;
            border-radius: 8px; /* Soft rounding */
            transition: all 0.4s cubic-bezier(0.165, 0.84, 0.44, 1);
            position: relative;
            overflow: hidden; /* Contains the image and info within border-radius */
            box-shadow: 0 4px 15px rgba(0,0,0,0.05); /* Slight shadow base */
            height: 100%;
            display: flex;
            flex-direction: column;
        }
        
        .product-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.12); /* Elevated shadow on hover */
        }
        
        .product-image {
            position: relative;
            overflow: hidden;
            margin-bottom: 0; /* Removed gap to merge with bottom part */
            background: #f8f8f8;
            border-radius: 0; /* Reset radius */
            flex-shrink: 0;
        }
        
        .product-image img {
            width: 100%;
            height: 420px; /* Increased height for better product showcase */
            object-fit: cover;
            transition: opacity 0.4s ease, transform 0.6s cubic-bezier(0.33, 1, 0.68, 1);
        }
        
        .product-image .main-img {
            z-index: 1;
        }
        
        .product-image .hover-img {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            opacity: 0;
            z-index: 2;
        }
        
        .product-card:hover .product-image .hover-img {
            opacity: 1;
        }
        
        /* Zoom effect backup */
        .product-card:not(:has(.hover-img)):hover .product-image img {
             transform: scale(1.08); /* Smoother zoom */
        }
        
        /* Action Buttons Overlay */
        .product-actions {
            position: absolute;
            bottom: 20px;
            left: 0;
            right: 0;
            display: flex;
            justify-content: center;
            gap: 12px;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.3s ease;
            z-index: 10;
        }
        
        .product-card:hover .product-actions {
            opacity: 1;
            transform: translateY(0);
        }
        
        .action-btn {
            width: 42px;
            height: 42px;
            background: rgba(255,255,255,0.9);
            backdrop-filter: blur(4px); /* Glass effect on buttons */
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary-color);
            text-decoration: none;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            transition: all 0.3s;
            font-size: 15px;
        }
        
        .action-btn:hover {
            background: var(--primary-color);
            color: #ffffff;
            transform: translateY(-3px);
            box-shadow: 0 8px 15px rgba(0,0,0,0.15);
        }
        
        .product-badge {
            position: absolute;
            top: 15px;
            left: 15px;
            background: #ffffff;
            color: var(--primary-color);
            padding: 6px 14px;
            font-size: 11px;
            font-weight: 700;
            text-transform: uppercase;
            box-shadow: 0 4px 10px rgba(0,0,0,0.08);
            border-radius: 30px; /* Pill shape */
            z-index: 5;
        }
        
        .product-info {
            padding: 20px; /* Reduced padding for compact look */
            text-align: left;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            background: #fff;
        }
        
        .product-category {
            font-size: 11px;
            text-transform: uppercase;
            color: #999;
            margin-bottom: 6px; /* Reduced spacing */
            letter-spacing: 1.5px;
            font-weight: 600;
        }
        
        .product-title {
            font-size: 16px; /* Slightly smaller */
            font-weight: 700;
            margin-bottom: 8px; /* Reduced spacing */
            line-height: 1.3;
        }
        
        .product-title a {
            color: #1a1a1a;
            text-decoration: none;
            transition: color 0.2s;
        }
        
        .product-title a:hover {
            color: var(--primary-color);
        }
        
        .product-price {
            font-size: 18px;
            font-weight: 800;
            color: #1a1a1a; /* Dark price */
            margin-top: auto;
            display: flex;
            align-items: center;
        }
        
        .product-price .old-price {
            color: #aaa;
            text-decoration: line-through;
            font-weight: 500;
            font-size: 14px;
            margin-right: 10px;
        }

        /* Feature Items */
        .features-section { padding: 100px 0; }
        .feature-item {
            padding: 40px 20px;
            background: var(--gray-100);
            border-radius: 16px;
            transition: var(--transition-base);
            height: 100%;
        }

        .feature-item:hover {
            background: var(--white);
            box-shadow: var(--shadow-soft);
            transform: translateY(-5px);
        }

        .feature-icon {
            color: var(--primary-color);
            margin-bottom: 20px;
        }

        .feature-title {
            font-size: 16px;
            font-weight: 700;
            margin-bottom: 10px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .feature-text {
            font-size: 14px;
            color: var(--text-secondary);
            margin-bottom: 0;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .hero-title {
                font-size: 48px;
            }

            .collection-card img {
                height: 350px;
            }

            .product-image img {
                height: 300px;
            }
        }

        /* Hot Promo Banner */
        .promo-banner-section {
            padding: 40px 0;
            background: #fdfdfd;
        }

        .promo-banner-content {
            background: #f8f8f8;
            border-radius: 20px;
            overflow: hidden;
            padding: 40px;
            position: relative;
        }

        .text-outline-dark {
            -webkit-text-stroke: 1px var(--black);
            color: transparent;
        }

        .promo-countdown {
            display: flex;
            gap: 20px;
        }

        .time-item {
            background: var(--white);
            padding: 15px 25px;
            border-radius: 12px;
            text-align: center;
            box-shadow: var(--shadow-soft);
            min-width: 90px;
        }

        .time-item span {
            display: block;
            font-size: 24px;
            font-weight: 800;
            line-height: 1;
        }

        .time-item small {
            font-size: 10px;
            font-weight: 700;
            color: var(--gray-500);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* Brand Story Section */
        .brand-story-section {
            padding: 60px 0;
            overflow: hidden;
        }

        .subtitle-line {
            display: inline-flex;
            align-items: center;
            font-size: 12px;
            font-weight: 700;
            letter-spacing: 3px;
            color: var(--primary-color);
        }

        .subtitle-line::after {
            content: '';
            width: 40px;
            height: 1px;
            background: var(--primary-color);
            margin-left: 15px;
        }

        .story-visuals {
            height: 600px;
        }

        .main-story-img img {
            width: 100%;
            height: 500px;
            object-fit: cover;
        }

        .floating-story-img {
            position: absolute;
            bottom: 0;
            left: -50px;
            width: 250px;
            z-index: 2;
            border: 10px solid var(--black);
        }

        .link-white:hover {
            color: var(--primary-color);
            border-color: var(--primary-color) !important;
        }

        /* Social Gallery */
        .gallery-item {
            position: relative;
            height: 350px;
            overflow: hidden;
            cursor: pointer;
        }

        .gallery-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: var(--transition-slow);
        }

        .gallery-overlay {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.4);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--white);
            font-size: 30px;
            opacity: 0;
            transition: var(--transition-base);
        }

        .gallery-item:hover img {
            transform: scale(1.1);
        }

        .gallery-item:hover .gallery-overlay {
            opacity: 1;
        }

        /* Testimonials Section */
        .testimonials-section {
            padding: 60px 0;
            background: #fafafa;
        }

        .testimonial-item {
            text-align: center;
            max-width: 800px;
            margin: 0 auto;
        }

        .testimonial-content {
            font-size: clamp(18px, 3vw, 28px);
            font-weight: 500;
            line-height: 1.4;
            color: var(--black);
            margin-bottom: 35px;
            font-style: italic;
        }

        .testimonial-author {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .author-img {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            object-fit: cover;
            margin-bottom: 15px;
            border: 3px solid var(--white);
            box-shadow: var(--shadow-soft);
        }

        .author-name {
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 2px;
            font-size: 14px;
        }

        .author-quote {
            color: var(--primary-color);
            font-size: 40px;
            margin-bottom: 20px;
            opacity: 0.3;
        }

        /* Elite Newsletter */
        .newsletter-elite-section {
            padding: 100px 0;
            background: linear-gradient(rgba(0,0,0,0.8), rgba(0,0,0,0.8)), url('https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=1600') center/cover;
            color: var(--white);
            text-align: center;
        }

        .newsletter-form-wrapper {
            max-width: 600px;
            margin: 0 auto;
        }

        .newsletter-elite-input {
            background: rgba(255,255,255,0.1) !important;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2) !important;
            color: var(--white) !important;
            padding: 18px 25px !important;
            border-radius: 50px !important;
            text-align: center;
            margin-bottom: 20px;
        }

        .newsletter-elite-input::placeholder {
            color: rgba(255,255,255,0.5);
        }

        /* Refined Features */
        .features-section {
            padding: 100px 0;
            background: var(--white);
        }

        .feature-box {
            padding: 40px;
            border: 1px solid var(--gray-200);
            transition: var(--transition-base);
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }

        .feature-box:hover {
            border-color: var(--black);
            transform: translateY(-10px);
            box-shadow: var(--shadow-hover);
        }

        .feature-box i {
            font-size: 40px;
            color: var(--primary-color);
            margin-bottom: 25px;
        }

        /* Responsive Improvements */
        @media (max-width: 991px) {
            .promo-banner-content { padding: 40px; }
            .story-visuals { height: auto; margin-top: 50px; }
            .floating-story-img { display: none !important; }
        }

        /* ============================================
           FLASH SALE SECTION - Premium Design
           ============================================ */
        .flash-sale-section {
            position: relative;
            padding: 80px 0;
            overflow: hidden;
        }

        .flash-sale-bg {
            position: absolute;
            inset: 0;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f0f23 100%);
            z-index: 0;
        }

        .flash-sale-bg::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -20%;
            width: 600px;
            height: 600px;
            background: radial-gradient(circle, rgba(239, 68, 68, 0.15) 0%, transparent 70%);
            border-radius: 50%;
        }

        .flash-sale-bg::after {
            content: '';
            position: absolute;
            bottom: -30%;
            left: -10%;
            width: 400px;
            height: 400px;
            background: radial-gradient(circle, rgba(251, 191, 36, 0.1) 0%, transparent 70%);
            border-radius: 50%;
        }

        .flash-sale-wrapper {
            position: relative;
            z-index: 1;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 60px;
            align-items: center;
        }

        .flash-sale-content {
            color: #fff;
        }

        .flash-sale-header {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 25px;
        }

        .flash-badge {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
            color: #fff;
            padding: 10px 20px;
            border-radius: 50px;
            font-weight: 700;
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .flash-badge i {
            font-size: 16px;
        }

        .live-indicator {
            display: flex;
            align-items: center;
            gap: 8px;
            color: #4ade80;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .live-dot {
            width: 8px;
            height: 8px;
            background: #4ade80;
            border-radius: 50%;
            animation: pulse-live 1.5s infinite;
        }

        @keyframes pulse-live {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.5; transform: scale(1.3); }
        }

        .flash-title {
            font-size: clamp(40px, 5vw, 64px);
            font-weight: 900;
            line-height: 1.1;
            margin-bottom: 15px;
        }

        .flash-title .highlight {
            color: #fbbf24;
            text-shadow: 0 0 30px rgba(251, 191, 36, 0.5);
        }

        .flash-subtitle {
            font-size: 18px;
            color: rgba(255, 255, 255, 0.7);
            margin-bottom: 30px;
            max-width: 400px;
        }

        /* Countdown Timer */
        .countdown-wrapper {
            margin-bottom: 30px;
        }

        .countdown-label {
            font-size: 13px;
            color: rgba(255, 255, 255, 0.5);
            margin-bottom: 12px;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .countdown-timer {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .countdown-item {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 12px;
            padding: 15px 20px;
            text-align: center;
            min-width: 80px;
        }

        .countdown-number {
            display: block;
            font-size: 32px;
            font-weight: 900;
            color: #fff;
            line-height: 1;
        }

        .countdown-unit {
            font-size: 11px;
            color: rgba(255, 255, 255, 0.6);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-top: 5px;
            display: block;
        }

        .countdown-separator {
            font-size: 28px;
            font-weight: 700;
            color: rgba(255, 255, 255, 0.3);
        }

        /* Stock Progress */
        .stock-progress-wrapper {
            margin-bottom: 30px;
        }

        .stock-info {
            display: flex;
            justify-content: space-between;
            font-size: 14px;
            color: rgba(255, 255, 255, 0.7);
            margin-bottom: 10px;
        }

        .stock-info strong {
            color: #fff;
        }

        .stock-progress-bar {
            height: 8px;
            background: rgba(255, 255, 255, 0.15);
            border-radius: 10px;
            overflow: hidden;
        }

        .stock-progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #fbbf24 0%, #ef4444 100%);
            border-radius: 10px;
            transition: width 1s ease;
        }

        .hurry-text {
            margin-top: 12px;
            font-size: 14px;
            color: #fbbf24;
            font-weight: 600;
        }

        .hurry-text i {
            margin-right: 5px;
            animation: flame 0.5s infinite alternate;
        }

        @keyframes flame {
            from { transform: scale(1); }
            to { transform: scale(1.2); }
        }

        /* Flash Button */
        .flash-btn {
            display: inline-flex;
            align-items: center;
            gap: 12px;
            background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
            color: #000;
            padding: 18px 40px;
            border-radius: 50px;
            font-weight: 700;
            font-size: 16px;
            text-transform: uppercase;
            letter-spacing: 1px;
            text-decoration: none;
            transition: all 0.3s ease;
            box-shadow: 0 10px 30px rgba(251, 191, 36, 0.3);
        }

        .flash-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(251, 191, 36, 0.4);
            color: #000;
        }

        .flash-btn i {
            transition: transform 0.3s;
        }

        .flash-btn:hover i {
            transform: translateX(5px);
        }

        /* Flash Products */
        .flash-sale-products {
            display: grid;
            grid-template-columns: 1.5fr 1fr;
            gap: 20px;
        }

        .flash-product-card {
            position: relative;
            background: #fff;
            border-radius: 16px;
            overflow: hidden;
            transition: transform 0.3s ease;
        }

        .flash-product-card:hover {
            transform: translateY(-5px);
        }

        .flash-product-card.main-product {
            grid-row: span 2;
        }

        .flash-product-card img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .flash-product-card.main-product img {
            height: 100%;
            min-height: 400px;
        }

        .flash-product-card.small {
            height: 190px;
        }

        .flash-product-card.small img {
            height: 130px;
        }

        .discount-tag {
            position: absolute;
            top: 15px;
            left: 15px;
            background: #ef4444;
            color: #fff;
            padding: 8px 14px;
            border-radius: 8px;
            font-weight: 800;
            font-size: 14px;
            z-index: 2;
        }

        .flash-product-card .product-info {
            padding: 15px;
            background: #fff;
        }

        .flash-product-card.main-product .product-info {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(transparent, rgba(0,0,0,0.8));
            color: #fff;
            padding: 30px 20px 20px;
        }

        .flash-product-card h4 {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .flash-product-card.main-product h4 {
            color: #fff;
        }

        .price-row {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .sale-price {
            font-size: 20px;
            font-weight: 800;
            color: #ef4444;
        }

        .flash-product-card.main-product .sale-price {
            color: #fbbf24;
        }

        .original-price {
            font-size: 14px;
            color: rgba(255,255,255,0.6);
            text-decoration: line-through;
        }

        .flash-product-card.small .sale-price {
            font-size: 16px;
        }

        .flash-product-grid {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        /* Responsive */
        @media (max-width: 991px) {
            .flash-sale-wrapper {
                grid-template-columns: 1fr;
                gap: 40px;
            }
            
            .flash-sale-products {
                grid-template-columns: 1fr 1fr;
            }
            
            .flash-product-card.main-product {
                grid-row: auto;
            }
            
            .countdown-item {
                padding: 12px 15px;
                min-width: 60px;
            }
            
            .countdown-number {
                font-size: 24px;
            }
        }

        @media (max-width: 576px) {
            .flash-sale-section {
                padding: 50px 0;
            }
            
            .flash-sale-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }
            
            .countdown-timer {
                gap: 8px;
            }
            
            .countdown-item {
                padding: 10px 12px;
                min-width: 50px;
            }
            
            .countdown-number {
                font-size: 20px;
            }
            
            .flash-sale-products {
                grid-template-columns: 1fr;
            }
            
            .flash-product-grid {
                flex-direction: row;
            }
        }

        /* ============================================
           BANGLADESH MARKET SPECIFIC STYLES
           ============================================ */

        /* Trust Bar - Top Announcement */
        .trust-bar-bd {
            background: linear-gradient(90deg, #1a1a2e 0%, #16213e 100%);
            padding: 12px 0;
            color: #fff;
            font-size: 13px;
            overflow: hidden;
        }

        .trust-bar-inner {
            display: flex;
            justify-content: center;
            gap: 40px;
            flex-wrap: wrap;
        }

        .trust-item {
            display: flex;
            align-items: center;
            gap: 8px;
            white-space: nowrap;
        }

        .trust-item i {
            color: #4ade80;
            font-size: 14px;
        }

        @media (max-width: 768px) {
            .trust-bar-inner {
                gap: 15px;
                font-size: 11px;
            }
            .trust-item:nth-child(n+4) {
                display: none;
            }
        }

        /* Hero Price Tag */
        .hero-price-tag {
            display: inline-flex;
            flex-direction: column;
            background: rgba(255,255,255,0.15);
            backdrop-filter: blur(10px);
            padding: 15px 25px;
            border-radius: 10px;
            border: 1px solid rgba(255,255,255,0.2);
        }

        .hero-price-tag .starting-from {
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 1px;
            opacity: 0.8;
        }

        .hero-price-tag .price {
            font-size: 32px;
            font-weight: 900;
            color: #fbbf24;
        }

        /* Flash Sale BD Enhancements */
        .flash-sale-bd {
            background: linear-gradient(135deg, #fff5f5 0%, #fff 100%);
            border: 2px solid #fee2e2;
        }

        .sale-badge-floating {
            position: absolute;
            top: 20px;
            right: 20px;
            background: #ef4444;
            color: #fff;
            padding: 15px 20px;
            border-radius: 50%;
            font-weight: 900;
            font-size: 18px;
            animation: pulse-badge 2s infinite;
        }

        @keyframes pulse-badge {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .live-orders-badge {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            background: #fef3c7;
            color: #92400e;
            padding: 8px 16px;
            border-radius: 50px;
            font-size: 13px;
            font-weight: 600;
        }

        .pulse-dot {
            width: 10px;
            height: 10px;
            background: #22c55e;
            border-radius: 50%;
            animation: pulse-dot 1.5s infinite;
        }

        @keyframes pulse-dot {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.5; transform: scale(1.2); }
        }

        .stock-warning {
            display: flex;
            align-items: center;
            gap: 8px;
            color: #dc2626;
            font-weight: 600;
            font-size: 14px;
        }

        /* ============================================
           FLASH SALE ANIMATIONS - Premium Effects
           ============================================ */

        /* Base Animation Classes */
        @keyframes slideInLeft {
            from {
                opacity: 0;
                transform: translateX(-80px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(80px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes bounceIn {
            0% {
                opacity: 0;
                transform: scale(0.3) rotate(-10deg);
            }
            50% {
                transform: scale(1.1) rotate(5deg);
            }
            70% {
                transform: scale(0.9) rotate(-3deg);
            }
            100% {
                opacity: 1;
                transform: scale(1) rotate(0);
            }
        }

        @keyframes shimmer {
            0% {
                left: -100%;
            }
            100% {
                left: 200%;
            }
        }

        @keyframes sparkleFloat {
            0%, 100% {
                transform: translateY(0) rotate(0deg) scale(1);
                opacity: 0;
            }
            20% {
                opacity: 1;
            }
            50% {
                transform: translateY(-20px) rotate(180deg) scale(1.2);
                opacity: 1;
            }
            80% {
                opacity: 1;
            }
            100% {
                transform: translateY(-40px) rotate(360deg) scale(0.8);
                opacity: 0;
            }
        }

        @keyframes glowPulse {
            0%, 100% {
                box-shadow: 0 0 5px rgba(239, 68, 68, 0.3);
            }
            50% {
                box-shadow: 0 0 20px rgba(239, 68, 68, 0.6), 0 0 40px rgba(239, 68, 68, 0.3);
            }
        }

        @keyframes countdownTick {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.1);
            }
        }

        @keyframes shineSlide {
            0% {
                left: -100%;
            }
            100% {
                left: 200%;
            }
        }

        @keyframes warningShake {
            0%, 100% {
                transform: rotate(0deg);
            }
            10%, 30%, 50%, 70%, 90% {
                transform: rotate(-5deg);
            }
            20%, 40%, 60%, 80% {
                transform: rotate(5deg);
            }
        }

        @keyframes textBlink {
            0%, 100% {
                opacity: 1;
            }
            50% {
                opacity: 0.6;
            }
        }

        @keyframes floatShape {
            0%, 100% {
                transform: translateY(0) rotate(0deg);
            }
            50% {
                transform: translateY(-20px) rotate(10deg);
            }
        }

        @keyframes urgencyPulse {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.15);
            }
        }

        @keyframes titleGlow {
            0%, 100% {
                text-shadow: 0 0 0 transparent;
            }
            50% {
                text-shadow: 0 0 20px rgba(239, 68, 68, 0.4);
            }
        }

        @keyframes circleExpand {
            0% {
                transform: scale(0);
                opacity: 0.5;
            }
            100% {
                transform: scale(1);
                opacity: 0.1;
            }
        }

        /* Flash Sale Animated Section */
        .flash-sale-animated {
            overflow: hidden;
        }

        .flash-sale-animated .promo-banner-content {
            position: relative;
            overflow: hidden;
        }

        /* Slide in animations */
        .animate-slide-in-left {
            animation: slideInLeft 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
        }

        .animate-slide-in-right {
            animation: slideInRight 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
        }

        .animate-fade-in-up {
            opacity: 0;
            animation: fadeInUp 0.7s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
        }

        .animate-fade-in-down {
            opacity: 0;
            animation: fadeInDown 0.7s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
        }

        .animate-bounce-in {
            animation: bounceIn 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
            animation-delay: 0.5s;
            opacity: 0;
        }

        /* Image shimmer effect wrapper */
        .image-shimmer-wrapper {
            position: relative;
            overflow: hidden;
            border-radius: 16px;
        }

        .flash-sale-img {
            transition: transform 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .flash-sale-img:hover {
            transform: scale(1.05);
        }

        .image-shimmer {
            position: absolute;
            top: 0;
            left: -100%;
            width: 50%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
            animation: shimmer 3s infinite;
            animation-delay: 1s;
        }

        /* Sale badge enhanced */
        .sale-badge-floating {
            animation: pulse-badge 2s infinite, glowPulse 2s infinite;
            box-shadow: 0 5px 25px rgba(239, 68, 68, 0.4);
        }

        /* Sparkle effects */
        .sale-sparkles {
            position: absolute;
            top: 10px;
            right: 60px;
            pointer-events: none;
        }

        .sparkle {
            position: absolute;
            font-size: 16px;
            animation: sparkleFloat 2s infinite;
        }

        .sparkle-1 {
            animation-delay: 0s;
            top: 0;
            left: 0;
        }

        .sparkle-2 {
            animation-delay: 0.5s;
            top: 20px;
            left: 30px;
            font-size: 20px;
        }

        .sparkle-3 {
            animation-delay: 1s;
            top: -10px;
            left: 50px;
        }

        /* Urgency text animation */
        .flash-urgency {
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .urgency-icon {
            display: inline-block;
            animation: urgencyPulse 1s infinite;
        }

        /* Flash title animations */
        .flash-title-text {
            display: inline-block;
            background: linear-gradient(90deg, #1a1a1a, #333, #1a1a1a);
            background-size: 200% auto;
            -webkit-background-clip: text;
            background-clip: text;
            animation: titleGlow 3s infinite;
        }

        .flash-discount-text {
            display: inline-block;
            animation: titleGlow 2s infinite;
            animation-delay: 0.5s;
        }

        /* Countdown timer animations */
        .time-item-animated {
            position: relative;
            transition: all 0.3s ease;
        }

        .time-item-animated:hover {
            transform: translateY(-5px) scale(1.05);
        }

        .time-item-glow {
            position: absolute;
            inset: 0;
            border-radius: 12px;
            opacity: 0;
            transition: opacity 0.3s;
            background: radial-gradient(circle, rgba(239, 68, 68, 0.2) 0%, transparent 70%);
        }

        .time-item-animated:hover .time-item-glow {
            opacity: 1;
        }

        .time-item-seconds {
            background: linear-gradient(135deg, #fff5f5 0%, #fff 100%);
        }

        .time-item-seconds .countdown-digit {
            color: #ef4444;
        }

        .countdown-seconds {
            animation: countdownTick 1s infinite;
        }

        .countdown-digit {
            transition: transform 0.2s ease;
        }

        /* CTA Button with shine effect */
        .btn-flash-cta {
            position: relative;
            overflow: hidden;
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .btn-flash-cta:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 10px 30px rgba(239, 68, 68, 0.4);
        }

        .btn-flash-cta .btn-text {
            position: relative;
            z-index: 2;
        }

        .btn-flash-cta .btn-shine {
            position: absolute;
            top: 0;
            left: -100%;
            width: 50%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            animation: shineSlide 3s infinite;
        }

        /* Stock warning animations */
        .stock-warning-animated {
            animation: fadeInUp 0.7s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
        }

        .warning-shake {
            animation: warningShake 2s infinite;
            animation-delay: 2s;
        }

        .stock-text-blink {
            animation: textBlink 1.5s infinite;
        }

        /* Background decorations */
        .flash-sale-decorations {
            position: absolute;
            inset: 0;
            pointer-events: none;
            overflow: hidden;
            z-index: 0;
        }

        .decoration-circle {
            position: absolute;
            border-radius: 50%;
            background: linear-gradient(135deg, rgba(239, 68, 68, 0.1) 0%, transparent 70%);
        }

        .decoration-circle-1 {
            width: 300px;
            height: 300px;
            top: -100px;
            right: -100px;
            animation: circleExpand 4s infinite alternate;
        }

        .decoration-circle-2 {
            width: 200px;
            height: 200px;
            bottom: -50px;
            left: 10%;
            animation: circleExpand 5s infinite alternate;
            animation-delay: 1s;
        }

        .floating-shapes {
            position: absolute;
            inset: 0;
        }

        .shape {
            position: absolute;
            border-radius: 50%;
            background: linear-gradient(135deg, rgba(239, 68, 68, 0.15) 0%, rgba(251, 191, 36, 0.15) 100%);
            animation: floatShape 6s infinite ease-in-out;
        }

        .shape-1 {
            width: 60px;
            height: 60px;
            top: 20%;
            right: 15%;
            animation-delay: 0s;
        }

        .shape-2 {
            width: 40px;
            height: 40px;
            bottom: 30%;
            right: 25%;
            animation-delay: 1s;
        }

        .shape-3 {
            width: 25px;
            height: 25px;
            top: 40%;
            left: 45%;
            animation-delay: 2s;
        }

        /* Live orders badge enhanced */
        .live-orders-badge {
            animation-fill-mode: forwards;
        }

        .live-text-typing {
            display: inline;
        }

        /* Responsive animation adjustments */
        @media (max-width: 991px) {
            .animate-slide-in-left {
                animation-name: fadeInUp;
            }
            
            .sale-sparkles {
                display: none;
            }
            
            .decoration-circle-1,
            .decoration-circle-2 {
                display: none;
            }
            
            .shape {
                width: 30px;
                height: 30px;
            }
        }

        @media (max-width: 576px) {
            .floating-shapes {
                display: none;
            }
            
            .time-item-animated:hover {
                transform: none;
            }
        }

        /* Category Badges */
        .category-badge {
            position: absolute;
            top: 15px;
            left: 15px;
            background: #ef4444;
            color: #fff;
            padding: 5px 12px;
            border-radius: 4px;
            font-size: 11px;
            font-weight: 700;
            text-transform: uppercase;
            z-index: 5;
        }

        .featured-content {
            position: relative;
        }

        /* Payment & Trust Section */
        .payment-trust-section {
            padding: 40px 0;
            background: #f8fafc;
            border-top: 1px solid #e2e8f0;
            border-bottom: 1px solid #e2e8f0;
        }

        .payment-trust-grid {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 30px;
        }

        .payment-methods h6 {
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: #64748b;
        }

        .payment-icons {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .payment-icon {
            opacity: 0.8;
            transition: opacity 0.3s;
        }

        .payment-icon:hover {
            opacity: 1;
        }

        .trust-stats {
            display: flex;
            gap: 40px;
        }

        .stat-item {
            text-align: center;
        }

        .stat-number {
            display: block;
            font-size: 28px;
            font-weight: 900;
            color: var(--primary-color);
        }

        .stat-label {
            font-size: 12px;
            color: #64748b;
            text-transform: uppercase;
        }

        @media (max-width: 768px) {
            .payment-trust-grid {
                flex-direction: column;
                text-align: center;
            }
            .trust-stats {
                gap: 25px;
            }
            .stat-number {
                font-size: 22px;
            }
        }

        /* BD Feature Titles */
        .feature-title-bd {
            font-size: 14px;
            font-weight: 700;
            margin-bottom: 5px;
            color: var(--primary-color);
        }

        .feature-box {
            padding: 25px 15px;
        }

        .feature-box i {
            font-size: 32px;
            margin-bottom: 15px;
        }

        /* WhatsApp Floating Button */
        .whatsapp-float {
            position: fixed;
            bottom: 25px;
            right: 25px;
            width: 60px;
            height: 60px;
            background: #25d366;
            color: #fff;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 30px;
            box-shadow: 0 4px 20px rgba(37, 211, 102, 0.4);
            z-index: 999;
            transition: all 0.3s;
            text-decoration: none;
        }

        .whatsapp-float:hover {
            transform: scale(1.1);
            background: #128c7e;
            color: #fff;
        }

        .whatsapp-tooltip {
            position: absolute;
            right: 70px;
            background: #333;
            color: #fff;
            padding: 8px 15px;
            border-radius: 5px;
            font-size: 12px;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s;
        }

        .whatsapp-float:hover .whatsapp-tooltip {
            opacity: 1;
        }

        /* Live Order Toast Notification */
        .live-order-toast {
            position: fixed;
            bottom: 100px;
            left: 25px;
            background: #fff;
            border-radius: 10px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.15);
            padding: 15px;
            z-index: 998;
            transform: translateX(-150%);
            transition: transform 0.5s ease;
            max-width: 300px;
        }

        .live-order-toast.show {
            transform: translateX(0);
        }

        .toast-content {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .toast-img {
            width: 50px;
            height: 50px;
            border-radius: 8px;
            object-fit: cover;
        }

        .toast-text {
            font-size: 13px;
            font-weight: 600;
            margin: 0;
            color: var(--primary-color);
        }

        .toast-time {
            font-size: 11px;
            color: #64748b;
        }

        /* Testimonials BD Updates */
        .testimonial-content {
            font-size: clamp(16px, 2.5vw, 22px);
            font-style: normal;
            margin-bottom: 25px;
        }

        .rating i {
            font-size: 16px;
        }
    </style>
{% endblock %}

{% block extra_js %}
    <script>
        // Load New Arrivals with Slider
        async function loadNewArrivals() {
            try {
                const data = await apiFetch('/new-arrival-products/?page_size=8');
                const products = data.results || data;
                const container = document.getElementById('new-arrivals-slider');

                if (Array.isArray(products) && products.length > 0) {
                    container.innerHTML = products.map(product => createProductSlide(product)).join('');
                    
                    // Initialize Swiper after products are loaded
                    initNewArrivalsSwiper();
                } else {
                    container.innerHTML = '<div class="swiper-slide"><div class="text-center text-muted py-5">No new arrivals found</div></div>';
                }
            } catch (error) {
                console.error('Failed to load new arrivals:', error);
                document.getElementById('new-arrivals-slider').innerHTML = '<div class="swiper-slide"><div class="text-center text-danger py-5">Failed to load content</div></div>';
            }
        }

        // Initialize New Arrivals Swiper
        function initNewArrivalsSwiper() {
            new Swiper('.new-arrivals-swiper', {
                slidesPerView: 1,
                spaceBetween: 30,
                loop: true, /* Enable Loop */
                grabCursor: true,
                navigation: {
                    nextEl: '.new-arrivals-next',
                    prevEl: '.new-arrivals-prev',
                },
                pagination: {
                    el: '.new-arrivals-pagination',
                    clickable: true,
                    dynamicBullets: true,
                },
                breakpoints: {
                    576: {
                        slidesPerView: 2,
                        spaceBetween: 20,
                    },
                    768: {
                        slidesPerView: 3,
                        spaceBetween: 25,
                    },
                    1200: {
                        slidesPerView: 4,
                        spaceBetween: 30,
                    },
                },
                autoplay: {
                    delay: 4000,
                    disableOnInteraction: false,
                    pauseOnMouseEnter: true,
                },
                speed: 800,
                effect: 'slide',
            });
        }

        // Load Popular Products
        async function loadPopularProducts() {
            try {
                const data = await apiFetch('/popular-products/?page_size=8');
                const products = data.results || data;
                const container = document.getElementById('popular-products-grid');

                if (Array.isArray(products) && products.length > 0) {
                    container.innerHTML = products.map(product => createProductCard(product)).join('');
                } else {
                    container.innerHTML = '<div class="col-12 text-center text-muted">No popular products found</div>';
                }
            } catch (error) {
                console.error('Failed to load popular products:', error);
                document.getElementById('popular-products-grid').innerHTML = '<div class="col-12 text-center text-danger">Failed to load content</div>';
            }
        }

        // Create product card for grid (Shared)
        function createProductCard(product) {
            const imageUrl = product.thumbnail || product.image || 'https://via.placeholder.com/400';
            const hoverUrl = product.thumbnail_hover || null;
            
            // Handle Price: Could be string "100.00", number 100.00, or null
            let priceDisplay = '‡ß≥0.00';
            if (product.price !== null && product.price !== undefined) {
                const priceVal = parseFloat(product.price);
                if (!isNaN(priceVal)) {
                    priceDisplay = `‡ß≥${priceVal.toFixed(2)}`;
                }
            }
            
            const category = product.category_name || 'Fashion';
            return `
            <div class="col-lg-3 col-md-4 col-sm-6">
                <div class="product-card">
                    <div class="product-image">
                        <img src="${imageUrl}" alt="${product.name}" class="main-img">
                        ${hoverUrl ? `<img src="${hoverUrl}" alt="${product.name}" class="hover-img">` : ''}
                        ${product.is_new ? '<span class="product-badge">New</span>' : ''}
                        
                        <div class="product-actions">
                            <a href="#" class="action-btn" title="Quick View" onclick="showQuickView('${product.slug}'); return false;">
                                <i class="fas fa-shopping-bag"></i>
                            </a>
                            <a href="#" class="action-btn" title="Wishlist">
                                <i class="fas fa-heart"></i>
                            </a>
                            <a href="/shop/${product.slug}/" class="action-btn" title="Quick View">
                                <i class="fas fa-eye"></i>
                            </a>
                        </div>
                    </div>
                    <div class="product-info">
                        <div class="product-category">${category}</div>
                        <h3 class="product-title">
                            <a href="/shop/${product.slug}/">${product.name}</a>
                        </h3>
                        <div class="product-price">
                            ${priceDisplay}
                        </div>
                    </div>
                </div>
            </div>
            `;
        }

        // Create product slide for slider
        function createProductSlide(product) {
            const imageUrl = product.thumbnail || product.image || 'https://via.placeholder.com/400';
            const hoverUrl = product.thumbnail_hover || null;
            
            // Handle Price: Could be string "100.00", number 100.00, or null
            let priceDisplay = '‡ß≥0.00';
            if (product.price !== null && product.price !== undefined) {
                const priceVal = parseFloat(product.price);
                if (!isNaN(priceVal)) {
                    priceDisplay = `‡ß≥${priceVal.toFixed(2)}`;
                }
            }
            
            const category = product.category_name || 'Fashion';
            return `
            <div class="swiper-slide">
                <div class="product-card">
                    <div class="product-image">
                        <img src="${imageUrl}" alt="${product.name}" class="main-img">
                        ${hoverUrl ? `<img src="${hoverUrl}" alt="${product.name}" class="hover-img">` : ''}
                        ${product.is_new ? '<span class="product-badge">New</span>' : ''}
                        
                        <div class="product-actions">
                            <a href="#" class="action-btn" title="Quick View" onclick="showQuickView('${product.slug}'); return false;">
                                <i class="fas fa-shopping-bag"></i>
                            </a>
                            <a href="#" class="action-btn" title="Wishlist">
                                <i class="fas fa-heart"></i>
                            </a>
                            <a href="/shop/${product.slug}/" class="action-btn" title="Quick View">
                                <i class="fas fa-eye"></i>
                            </a>
                        </div>
                    </div>
                    <div class="product-info">
                        <div class="product-category">${category}</div>
                        <h3 class="product-title">
                            <a href="/shop/${product.slug}/">${product.name}</a>
                        </h3>
                        <div class="product-price">
                            ${priceDisplay}
                        </div>
                    </div>
                </div>
            </div>
            `;
        }

        // Initialize Testimonials Swiper
        function initTestimonialsSwiper() {
            new Swiper('.testimonials-swiper', {
                slidesPerView: 1,
                spaceBetween: 30,
                loop: true,
                autoplay: {
                    delay: 5000,
                    disableOnInteraction: false,
                },
                pagination: {
                    el: '.swiper-pagination',
                    clickable: true,
                },
                speed: 1000,
            });
        }

        // ============================================
        // BANGLADESH MARKET FEATURES
        // ============================================

        // Flash Sale Countdown Timer
        function initFlashCountdown() {
            // Set countdown to 2 days, 14 hours, 45 mins from now
            const endDate = new Date();
            endDate.setDate(endDate.getDate() + 2);
            endDate.setHours(endDate.getHours() + 14);
            endDate.setMinutes(endDate.getMinutes() + 45);

            function updateCountdown() {
                const now = new Date().getTime();
                const distance = endDate - now;

                if (distance < 0) {
                    // Reset countdown
                    endDate.setDate(endDate.getDate() + 3);
                }

                const days = Math.floor(distance / (1000 * 60 * 60 * 24));
                const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((distance % (1000 * 60)) / 1000);

                const daysEl = document.getElementById('days');
                const hoursEl = document.getElementById('hours');
                const minsEl = document.getElementById('mins');
                const secsEl = document.getElementById('secs');

                if (daysEl) daysEl.textContent = String(days).padStart(2, '0');
                if (hoursEl) hoursEl.textContent = String(hours).padStart(2, '0');
                if (minsEl) minsEl.textContent = String(minutes).padStart(2, '0');
                if (secsEl) secsEl.textContent = String(seconds).padStart(2, '0');
            }

            updateCountdown();
            setInterval(updateCountdown, 1000);
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            // loadHeroSlider();
            loadNewArrivals();
            loadPopularProducts();
            initTestimonialsSwiper();
            
            // Flash Sale Countdown
            initFlashCountdown();
        });
    </script>
{% endblock %}
