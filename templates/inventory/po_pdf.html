<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>{{ po.po_number }}</title>
  <style>
    body { font-family: DejaVu Sans, sans-serif; font-size: 12px; }
    .header { display:flex; justify-content:space-between; margin-bottom: 12px; }
    table { width:100%; border-collapse: collapse; }
    th, td { border:1px solid #999; padding:6px; }
    th { background:#eee; }
    .right { text-align:right; }
  </style>
</head>
<body>
  <div class="header">
    <div>
      <h2>Purchase Order</h2>
      <div><strong>No:</strong> {{ po.po_number }}</div>
      <div><strong>Date:</strong> {{ po.order_date }}</div>
    </div>
    <div>
      <div><strong>Supplier:</strong> {{ po.supplier.name }}</div>
      <div><strong>Warehouse:</strong> {{ po.warehouse.name }}</div>
    </div>
  </div>

  <table>
    <thead>
      <tr>
        <th>SKU</th><th>Variant</th><th class="right">Qty</th><th class="right">Unit</th><th class="right">Disc%</th><th class="right">Tax%</th><th class="right">Line Total</th>
      </tr>
    </thead>
    <tbody>
      {% for it in po.items.all %}
      <tr>
        <td>{{ it.product_variant.sku }}</td>
        <td>{{ it.product_variant.variant_name }}</td>
        <td class="right">{{ it.quantity_ordered }}</td>
        <td class="right">{{ it.unit_price }}</td>
        <td class="right">{{ it.discount_percent }}</td>
        <td class="right">{{ it.tax_rate }}</td>
        <td class="right">{{ it.line_total }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  <br>
  {% if po.additional_costs.all %}
  <h4>Additional Costs</h4>
  <table>
    <thead><tr><th>Description</th><th class="right">Amount</th></tr></thead>
    <tbody>
      {% for c in po.additional_costs.all %}
      <tr><td>{{ c.description }}</td><td class="right">{{ c.amount }}</td></tr>
      {% endfor %}
    </tbody>
  </table>
  <br>
  {% endif %}

  <table>
    <tr><td class="right"><strong>Subtotal</strong></td><td class="right">{{ po.subtotal }}</td></tr>
    <tr><td class="right"><strong>Discount</strong></td><td class="right">{{ po.discount_amount }}</td></tr>
    <tr><td class="right"><strong>Tax</strong></td><td class="right">{{ po.tax_amount }}</td></tr>
    <tr><td class="right"><strong>Shipping</strong></td><td class="right">{{ po.shipping_cost }}</td></tr>
    <tr><td class="right"><strong>Additional Costs</strong></td><td class="right">{{ po.additional_cost_total }}</td></tr>
    <tr><td class="right"><strong>Total</strong></td><td class="right">{{ po.total_amount }}</td></tr>
  </table>
</body>
</html>
